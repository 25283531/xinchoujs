# 薪酬组管理用户指南

## 一、薪酬组概述

薪酬组是多个薪酬项的集合，用于统一管理和分配给员工、部门或职位。通过薪酬组，您可以：

- 将多个薪酬项组合成一个完整的薪酬方案
- 为薪酬项设定计算顺序，支持跨项引用计算
- 将薪酬组分配给部门、职位或单独员工
- 实现灵活的薪酬管理策略

## 二、薪酬组管理

### 2.1 创建薪酬组

1. 在系统菜单中选择「薪酬管理」→「薪酬组管理」
2. 点击「新增薪酬组」按钮
3. 填写薪酬组基本信息：
   - 薪酬组名称（必填）
   - 描述（可选）
4. 添加薪酬项并设定计算顺序：
   - 点击「添加薪酬项」按钮
   - 从下拉列表中选择薪酬项
   - 设置计算顺序（数字越小越先计算）
   - 可添加多个薪酬项
5. 点击「保存」按钮完成创建

### 2.2 编辑薪酬组

1. 在薪酬组列表中找到需要编辑的薪酬组
2. 点击「编辑」按钮
3. 修改薪酬组信息和薪酬项设置
4. 点击「保存」按钮完成编辑

### 2.3 删除薪酬组

1. 在薪酬组列表中找到需要删除的薪酬组
2. 点击「删除」按钮
3. 确认删除操作

> **注意**：如果薪酬组已分配给员工，则无法删除。需要先取消分配后才能删除。

## 三、薪酬组分配

### 3.1 按部门分配

1. 在系统菜单中选择「薪酬管理」→「薪酬组管理」
2. 切换到「薪酬组分配」选项卡
3. 选择「按部门分配」子选项卡
4. 在部门列表中找到目标部门
5. 从下拉列表中选择要分配的薪酬组
6. 系统自动保存分配结果

### 3.2 按职位分配

1. 在「薪酬组分配」选项卡中选择「按职位分配」子选项卡
2. 在职位列表中找到目标职位
3. 从下拉列表中选择要分配的薪酬组
4. 系统自动保存分配结果

### 3.3 按员工分配

1. 在「薪酬组分配」选项卡中选择「按员工分配」子选项卡
2. 在员工列表中找到目标员工
3. 从下拉列表中选择要分配的薪酬组
4. 系统自动保存分配结果

### 3.4 分配优先级

薪酬组分配遵循以下优先级规则：

1. 员工个人设置的薪酬组（最高优先级）
2. 职位设置的薪酬组（中等优先级）
3. 部门设置的薪酬组（最低优先级）

这意味着，如果一个员工同时存在部门薪酬组、职位薪酬组和个人薪酬组，系统将优先使用个人薪酬组进行工资计算。

## 四、公式编辑

### 4.1 公式语法

在薪酬项中，您可以创建公式类型的薪酬项，使用以下语法引用其他薪酬项：

```
${薪酬项名称}
```

例如，如果您想创建一个「绩效工资」薪酬项，其值为基本工资的20%，可以使用以下公式：

```
${基本工资} * 0.2
```

### 4.2 公式编辑器使用

1. 在创建或编辑薪酬项时，选择类型为「公式」
2. 在公式编辑框中输入公式
3. 可以点击下方的薪酬项标签快速插入变量
4. 公式支持基本的数学运算：加(+)、减(-)、乘(*)、除(/)、括号()
5. 系统会实时显示公式的语法高亮，帮助您识别变量和运算符

### 4.3 计算顺序重要性

在薪酬组中，薪酬项的计算顺序非常重要：

- 公式类型的薪酬项只能引用计算顺序在其之前的薪酬项
- 如果引用了计算顺序在后的薪酬项，系统会在保存时提示错误
- 合理设置计算顺序可以确保公式正确计算

### 4.4 公式示例

| 薪酬项名称 | 类型 | 值/公式 | 计算顺序 |
| --------- | ---- | ------- | -------- |
| 基本工资 | 固定金额 | 5000 | 1 |
| 岗位津贴 | 固定金额 | 1000 | 2 |
| 绩效比例 | 百分比 | 20 | 3 |
| 绩效工资 | 公式 | ${基本工资} * ${绩效比例} / 100 | 4 |
| 综合工资 | 公式 | ${基本工资} + ${岗位津贴} + ${绩效工资} | 5 |

## 五、常见问题

### 5.1 公式验证失败

如果公式验证失败，请检查：

- 公式中引用的薪酬项是否存在于当前薪酬组中
- 引用的薪酬项是否在计算顺序上位于当前项之前
- 公式语法是否正确（括号是否匹配、运算符使用是否正确）

### 5.2 薪酬组无法删除

如果薪酬组无法删除，可能是因为：

- 该薪酬组已分配给一个或多个员工
- 该薪酬组已分配给部门或职位

请先取消所有分配后再尝试删除。

### 5.3 薪酬计算结果异常

如果薪酬计算结果异常，请检查：

- 薪酬项的计算顺序是否合理
- 公式中是否存在错误
- 引用的薪酬项值是否正确

可以在薪酬组详情中查看每个薪酬项的计算过程，帮助排查问题。

## 六、最佳实践

1. **命名规范**：为薪酬项使用清晰、一致的命名，便于在公式中引用
2. **计算顺序**：将基础薪酬项（如基本工资）放在前面，派生薪酬项（如绩效工资）放在后面
3. **公式简化**：尽量保持公式简单明了，复杂逻辑可拆分为多个薪酬项
4. **定期检查**：定期检查薪酬组配置，确保计算逻辑符合最新的薪酬政策
5. **测试验证**：创建新的薪酬组后，使用测试数据验证计算结果是否符合预期